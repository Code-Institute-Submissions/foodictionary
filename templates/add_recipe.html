{% extends 'base.html' %} {% block content %}
{% if session['logged_in'] %}

<!-- top image -->
<div class="top-section-image-add-recipes"></div>
<!-- title of page-->
<h5 class="title">add your recipe</h5>

<!-- form -->
<form class="recipe-grid" method="POST" action="{{ url_for('insert_recipe', author=session.get('username')) }}">

    <h6 class="recipe-name">recipe name</h6>
    <input class="recipe-input " id="recipe_name" name="recipe_name" type="text" value=""
        placeholder="*Enter the Recipe Name" required>

    <h6 class="description">description</h6>
    <input class="description-input " id="recipe_description" name="recipe_description" type="text"
        placeholder="*Enter a short description of your recipe" required>

    <h6 class="category">recipe category</h6>
    <div class="category-options">
        <select id="recipe_category_name" name="recipe_category_name" required>
            <option value="" disabled selected>*Choose your option</option>
            {% set _stub = recipeCategory.rewind() %}
            {% for category in recipeCategory %}
            <option value="{{category.recipe_category_name}}">{{category.recipe_category_name}}</option>
            {% endfor %}
        </select>
    </div>

    <h6 class="allergens">allergens</h6>
    <div class="allergens-options">
        <select multiple id="allergen_type" name="allergen_type">
            <option value="" disabled selected>*Choose your option(s):</option>
            {% set _stub = recipeCategory.rewind() %}
            {% for allergen in allergens %}
            <option value="{{allergen.allergen_type}}">{{allergen.allergen_type}}</option>
            {% endfor %}
        </select>
    </div>


    <h6 class="prep-time">Prep time</h6>
    <input class="prep-time-input " id="recipe_prep_time" name="recipe_prep_time" type="text"
        placeholder="*How long to prepare?" required>

    <h6 class="cook-time">cook time</h6>
    <input class="cook-time-input " id="recipe_cook_time" name="recipe_cook_time" type="text"
        placeholder="*How long to cook?" required>

    <h6 class="servs">servings</h6>
    <input class="servs-input " id="recipe_serves" name="recipe_serves" type="text" placeholder="*How long to prepare?"
        required>

    <h6 class="difficulty">difficulty</h6>
    <div class="difficulty-option">
        <select id="recipe_difficulty" name="recipe_difficulty" required>
            <option value="" disabled selected>*Choose your option</option>
            {% set _stub = skillLevel.rewind() %}
            {% for skill in skillLevel %}
            <option value="{{skill.recipe_difficulty}}">{{skill.recipe_difficulty}}</option>
            {% endfor %}
        </select>
    </div>

    <h6 class="recipe">add recipe image</h6>
    <input class="recipe-image " id="recipe_image" name="recipe_image" type="text"
        placeholder="* Copy image location and paste here, the image location should start with http(s)://">

    <h6 class="ingredients-rec">ingredients</h6>
    <div id="ingredients" class="ingredients-input">
        <div class="input-field">
            <input id="recipe_ingredients" name="recipe_ingredients" type="text" class="validate"
                placeholder="A minimum of one ingredient required *Eg: 500 grams of Pasta" required>
        </div>
    </div>

    <a id="add_ingredient" class="btn btn-add ingredients-btn waves-effect waves-light"><i
            class="material-icons right">add</i>Add
        another ingredient</a>

    <h6 class="method">cooking method</h6>
    <div id="steps" class="method-input ">
        <input id="recipe_method" name="recipe_method" type="text" placeholder="*Step 1 - Boil pasta water with salt"
            required>
    </div>
    <a class="btn btn-add method-btn waves-effect waves-light" id="add_method_step"><i
            class="material-icons right">add</i>Add another step</a>


    <h6 class="recipe-tags">Recipe Tags</h6>
    <input class="recipe-tags-input" name="recipe_tags" value="" type="hidden">
    <div class="chips chips-placeholder"></div>
    <!--see custom.js line 53 -->



    <div class="switch">
        <h6 class="slider-header" for="featured_recipe">Add to favourite meals?</h6>

        <label>
            No
            <input type="checkbox" id="featured_recipe" name="featured_recipe">
            <span class="lever"></span>
            Yes
        </label>
    </div>
    <button class="btn btn-recipe waves-effect waves-light" type="submit" name="action">Add Recipe
        <i class="material-icons right">playlist_add</i>
    </button>
</form>
{% else %}
<h5 class="center">Login to Add a Recipe </h5>
<p class="center"><a href="{{url_for('login')}}">Login</a></p>
{% endif %}
{% endblock %}
